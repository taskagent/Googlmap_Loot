<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>WhatsApp Redirect (Persistent Random)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      height: 100vh;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 12px;
      background: linear-gradient(135deg, #0f172a, #0ea5e9);
      color: white;
      margin: 0;
    }
    .card {
      background: rgba(255,255,255,0.06);
      padding: 20px 28px;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(2,6,23,0.6);
      text-align: center;
      min-width: 300px;
    }
    button {
      padding: 10px 16px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-weight: 600;
    }
    #goBtn { background: #22c55e; color: black; }
    #resetBtn { background: #ef4444; color: white; }
    #info { font-size: 0.95rem; opacity: 0.9; margin-top: 8px; }
  </style>
  <script>
    // Aapke numbers ka array
    const numbers = [
      "917093873902",
      "917348297185",
      "918284026256",
      "919680899584",
      "918300547892",
      "919652335947",
      "919439892710",
      "919540847801",
      "919114197655",
      "918971549340",
      "917016031715",
      "919717385042",
      "917838247583",
      "917411548341",
      "917417761817",
      "917678291595",
      "917394880656",
      "919579598349",
      "919546666090",
      "917386154198",
      "918971549340",
      "918756393395",
      "916206404495",
      "918509287604",
      "919726285322",
      "918434137813",
      "917055824624",
      "919131422682",
      "919954887030",
      "919949245837",
      "918210599063",
      "918601612177",
      "918688602797"
      // agar aur numbers add karne ho to yahan add kar do
    ];

    const STORAGE_KEY = 'selectedWhatsAppNumber_v1';

    // UI update helper
    function updateInfo() {
      const stored = localStorage.getItem(STORAGE_KEY);
      const infoEl = document.getElementById('info');
      if (stored) {
        infoEl.innerText = "Saved number: +" + stored + " — har click par yahi open hoga.";
      } else {
        infoEl.innerText = "Koi number select nahin hua. 'Go to WhatsApp' pe click karein random chunne ke liye.";
      }
    }

    // Random choose & save (if not saved already)
    function pickOrGetNumber() {
      let saved = localStorage.getItem(STORAGE_KEY);
      if (saved && numbers.includes(saved)) {
        return saved; // same as pehle chosen
      }
      // agar saved nahin hai ya saved invalid ho gaya toh naya choose karo
      const rnd = numbers[Math.floor(Math.random() * numbers.length)];
      localStorage.setItem(STORAGE_KEY, rnd);
      return rnd;
    }

    // Redirect to wa.me with the chosen number
    function goToWhatsApp() {
      const num = pickOrGetNumber();
      // Redirect with wa.me (fast redirect). Ensure + is not included; wa.me expects country code+number without plus.
      window.location.href = "https://wa.me/" + num;
    }

    // Reset saved number (so next click will pick new random)
    function resetNumber() {
      localStorage.removeItem(STORAGE_KEY);
      updateInfo();
      alert('Saved number reset. Agli baar aap click karenge to naya random number select hoga.');
    }

    // initialize UI on load
    window.addEventListener('DOMContentLoaded', () => {
      document.getElementById('goBtn').addEventListener('click', goToWhatsApp);
      document.getElementById('resetBtn').addEventListener('click', resetNumber);
      updateInfo();
    });
  </script>
</head>
<body>
  <div class="card">
    <h2>WhatsApp Redirect — Persistent Random</h2>
    <p>Ek baar click karne par ek random number select hoga. Uske baad har click par wahi number khulega.</p>
    <div style="display:flex; gap:10px; justify-content:center; margin-top:12px;">
      <button id="goBtn">Go to WhatsApp</button>
      <button id="resetBtn">Reset</button>
    </div>
    <div id="info"></div>
  </div>
</body>
  </html>
